apiVersion: apps/v1
kind: Deployment
metadata:
  name: node1
spec:
  replicas: 1
  selector: { matchLabels: { app: node1 } }
  template:
    metadata: { labels: { app: node1 } }
    spec:
      containers:
        - name: node1
          image: verty002/blast-nodes:v5
          imagePullPolicy: IfNotPresent
          ports: [{ containerPort: 5000 }]
          env:
            - { name: SELF_NAME, value: "node1" }
            - { name: PORT, value: "5000" }
            - { name: PEERS, value: "10.106.4.50:5000" }
            - { name: DESTINOS, value: "node8" }
            - { name: ROUTES, value: "node3:10.106.4.50:5000,node4:10.106.4.50:5000,node5:10.106.4.50:5000,node6:10.106.4.50:5000,node7:10.106.4.50:5000,node8:10.106.4.50:5000,node9:10.106.4.50:5000,node10:10.106.4.50:5000" }
            - { name: NODE_MAP, value: "node1:10.104.224.255,node2:10.106.4.50,node3:10.99.0.127,node4:10.96.78.40,node5:10.97.227.22,node6:10.102.87.147,node7:10.111.212.197,node8:10.107.219.74,node9:10.105.254.216,node10:10.105.54.204" }
            - { name: CONNECT_TIMEOUT, value: "100" }
            - { name: CLIENT_INTERVAL, value: "5" }
            - { name: CLIENT_JITTER, value: "1.0" }
            - { name: BACKOFF_BASE, value: "1.0" }
            - { name: BACKOFF_MAX, value: "10.0" }
            - { name: RETRIES_DIRECT, value: "1" }
            - { name: RETRIES_ROUTE, value: "1" }
            - { name: RETRIES_BROAD, value: "0" }
            - { name: IDLE_SLEEP, value: "1.0" }
          readinessProbe:
            tcpSocket: { port: 5000 }
            initialDelaySeconds: 3
            periodSeconds: 5
          volumeMounts:
            - name: app-py
              mountPath: /app/app.py
              subPath: app.py
      volumes:
        - name: app-py
          configMap:
            name: app-py
---

apiVersion: apps/v1
kind: Deployment
metadata:
  name: node2
spec:
  replicas: 1
  selector: { matchLabels: { app: node2 } }
  template:
    metadata: { labels: { app: node2 } }
    spec:
      containers:
        - name: node2
          image: verty002/blast-nodes:v5
          imagePullPolicy: IfNotPresent
          ports: [{ containerPort: 5000 }]
          env:
            - { name: SELF_NAME, value: "node2" }
            - { name: PORT, value: "5000" }
            - { name: PEERS, value: "10.104.224.255:5000,10.96.78.40:5000,10.102.87.147:5000,10.97.227.22:5000,10.105.54.204:5000" }
            - { name: DESTINOS, value: "node7" }
            - { name: ROUTES, value: "node3:10.96.78.40:5000,node8:10.102.87.147:5000,node9:10.97.227.22:5000,node7:10.102.87.147:5000" }
            - { name: NODE_MAP, value: "node1:10.104.224.255,node2:10.106.4.50,node3:10.99.0.127,node4:10.96.78.40,node5:10.97.227.22,node6:10.102.87.147,node7:10.111.212.197,node8:10.107.219.74,node9:10.105.254.216,node10:10.105.54.204" }
            - { name: CONNECT_TIMEOUT, value: "100" }
            - { name: CLIENT_INTERVAL, value: "5" }
            - { name: CLIENT_JITTER, value: "1.0" }
            - { name: BACKOFF_BASE, value: "1.0" }
            - { name: BACKOFF_MAX, value: "10.0" }
            - { name: RETRIES_DIRECT, value: "1" }
            - { name: RETRIES_ROUTE, value: "1" }
            - { name: RETRIES_BROAD, value: "0" }
            - { name: IDLE_SLEEP, value: "1.0" }
          readinessProbe:
            tcpSocket: { port: 5000 }
            initialDelaySeconds: 3
            periodSeconds: 5
          volumeMounts:
            - name: app-py
              mountPath: /app/app.py
              subPath: app.py
      volumes:
        - name: app-py
          configMap:
            name: app-py
---

apiVersion: apps/v1
kind: Deployment
metadata:
  name: node3
spec:
  replicas: 1
  selector: { matchLabels: { app: node3 } }
  template:
    metadata: { labels: { app: node3 } }
    spec:
      containers:
        - name: node3
          image: verty002/blast-nodes:v5
          imagePullPolicy: IfNotPresent
          ports: [{ containerPort: 5000 }]
          env:
            - { name: SELF_NAME, value: "node3" }
            - { name: PORT, value: "5000" }
            - { name: PEERS, value: "10.96.78.40:5000,10.102.87.147:5000" }
            - { name: DESTINOS, value: "" }
            - { name: ROUTES, value: "node1:10.96.78.40:5000,node2:10.96.78.40:5000,node5:10.102.87.147:5000,node7:10.102.87.147:5000,node8:10.102.87.147:5000,node9:10.102.87.147:5000,node10:10.96.78.40:5000" }
            - { name: NODE_MAP, value: "node1:10.104.224.255,node2:10.106.4.50,node3:10.99.0.127,node4:10.96.78.40,node5:10.97.227.22,node6:10.102.87.147,node7:10.111.212.197,node8:10.107.219.74,node9:10.105.254.216,node10:10.105.54.204" }
            - { name: CONNECT_TIMEOUT, value: "100" }
            - { name: CLIENT_INTERVAL, value: "5" }
            - { name: CLIENT_JITTER, value: "1.0" }
            - { name: BACKOFF_BASE, value: "1.0" }
            - { name: BACKOFF_MAX, value: "10.0" }
            - { name: RETRIES_DIRECT, value: "1" }
            - { name: RETRIES_ROUTE, value: "1" }
            - { name: RETRIES_BROAD, value: "0" }
            - { name: IDLE_SLEEP, value: "1.0" }
          readinessProbe:
            tcpSocket: { port: 5000 }
            initialDelaySeconds: 3
            periodSeconds: 5
          volumeMounts:
            - name: app-py
              mountPath: /app/app.py
              subPath: app.py
      volumes:
        - name: app-py
          configMap:
            name: app-py
---

apiVersion: apps/v1
kind: Deployment
metadata:
  name: node4
spec:
  replicas: 1
  selector: { matchLabels: { app: node4 } }
  template:
    metadata: { labels: { app: node4 } }
    spec:
      containers:
        - name: node4
          image: verty002/blast-nodes:v5
          imagePullPolicy: IfNotPresent
          ports: [{ containerPort: 5000 }]
          env:
            - { name: SELF_NAME, value: "node4" }
            - { name: PORT, value: "5000" }
            - { name: PEERS, value: "10.99.0.127:5000,10.106.4.50:5000" }
            - { name: DESTINOS, value: "" }
            - { name: ROUTES, value: "node1:10.106.4.50:5000,node5:10.106.4.50:5000,node6:10.99.0.127:5000,node7:10.99.0.127:5000,node8:10.99.0.127:5000,node9:10.99.0.127:5000,node10:10.106.4.50:5000" }
            - { name: NODE_MAP, value: "node1:10.104.224.255,node2:10.106.4.50,node3:10.99.0.127,node4:10.96.78.40,node5:10.97.227.22,node6:10.102.87.147,node7:10.111.212.197,node8:10.107.219.74,node9:10.105.254.216,node10:10.105.54.204" }
            - { name: CONNECT_TIMEOUT, value: "100" }
            - { name: CLIENT_INTERVAL, value: "5" }
            - { name: CLIENT_JITTER, value: "1.0" }
            - { name: BACKOFF_BASE, value: "1.0" }
            - { name: BACKOFF_MAX, value: "10.0" }
            - { name: RETRIES_DIRECT, value: "1" }
            - { name: RETRIES_ROUTE, value: "1" }
            - { name: RETRIES_BROAD, value: "0" }
            - { name: IDLE_SLEEP, value: "1.0" }
          readinessProbe:
            tcpSocket: { port: 5000 }
            initialDelaySeconds: 3
            periodSeconds: 5
          volumeMounts:
            - name: app-py
              mountPath: /app/app.py
              subPath: app.py
      volumes:
        - name: app-py
          configMap:
            name: app-py
---

apiVersion: apps/v1
kind: Deployment
metadata:
  name: node5
spec:
  replicas: 1
  selector: { matchLabels: { app: node5 } }
  template:
    metadata: { labels: { app: node5 } }
    spec:
      containers:
        - name: node5
          image: verty002/blast-nodes:v5
          imagePullPolicy: IfNotPresent
          ports: [{ containerPort: 5000 }]
          env:
            - { name: SELF_NAME, value: "node5" }
            - { name: PORT, value: "5000" }
            - { name: PEERS, value: "10.106.4.50:5000,10.105.254.216:5000,10.102.87.147:5000" }
            - { name: DESTINOS, value: "" }
            - { name: ROUTES, value: "node10:10.105.254.216:5000,node1:10.106.4.50:5000,node4:10.106.4.50:5000,node3:10.102.87.147:5000,node7:10.105.254.216:5000,node8:10.102.87.147:5000" }
            - { name: NODE_MAP, value: "node1:10.104.224.255,node2:10.106.4.50,node3:10.99.0.127,node4:10.96.78.40,node5:10.97.227.22,node6:10.102.87.147,node7:10.111.212.197,node8:10.107.219.74,node9:10.105.254.216,node10:10.105.54.204" }
            - { name: CONNECT_TIMEOUT, value: "100" }
            - { name: CLIENT_INTERVAL, value: "5" }
            - { name: CLIENT_JITTER, value: "1.0" }
            - { name: BACKOFF_BASE, value: "1.0" }
            - { name: BACKOFF_MAX, value: "10.0" }
            - { name: RETRIES_DIRECT, value: "1" }
            - { name: RETRIES_ROUTE, value: "1" }
            - { name: RETRIES_BROAD, value: "0" }
            - { name: IDLE_SLEEP, value: "1.0" }
          readinessProbe:
            tcpSocket: { port: 5000 }
            initialDelaySeconds: 3
            periodSeconds: 5
          volumeMounts:
            - name: app-py
              mountPath: /app/app.py
              subPath: app.py
      volumes:
        - name: app-py
          configMap:
            name: app-py
---

apiVersion: apps/v1
kind: Deployment
metadata:
  name: node6
spec:
  replicas: 1
  selector: { matchLabels: { app: node6 } }
  template:
    metadata: { labels: { app: node6 } }
    spec:
      containers:
        - name: node6
          image: verty002/blast-nodes:v5
          imagePullPolicy: IfNotPresent
          ports: [{ containerPort: 5000 }]
          env:
            - { name: SELF_NAME, value: "node6" }
            - { name: PORT, value: "5000" }
            - { name: PEERS, value: "10.106.4.50:5000,10.99.0.127:5000,10.97.227.22:5000,10.111.212.197:5000,10.107.219.74:5000" }
            - { name: DESTINOS, value: "" }
            - { name: ROUTES, value: "node9:10.97.227.22:5000,node10:10.106.4.50:5000,node1:10.106.4.50:5000,node4:10.99.0.127:5000" }
            - { name: NODE_MAP, value: "node1:10.104.224.255,node2:10.106.4.50,node3:10.99.0.127,node4:10.96.78.40,node5:10.97.227.22,node6:10.102.87.147,node7:10.111.212.197,node8:10.107.219.74,node9:10.105.254.216,node10:10.105.54.204" }
            - { name: CONNECT_TIMEOUT, value: "100" }
            - { name: CLIENT_INTERVAL, value: "5" }
            - { name: CLIENT_JITTER, value: "1.0" }
            - { name: BACKOFF_BASE, value: "1.0" }
            - { name: BACKOFF_MAX, value: "10.0" }
            - { name: RETRIES_DIRECT, value: "1" }
            - { name: RETRIES_ROUTE, value: "1" }
            - { name: RETRIES_BROAD, value: "0" }
            - { name: IDLE_SLEEP, value: "1.0" }
          readinessProbe:
            tcpSocket: { port: 5000 }
            initialDelaySeconds: 3
            periodSeconds: 5
          volumeMounts:
            - name: app-py
              mountPath: /app/app.py
              subPath: app.py
      volumes:
        - name: app-py
          configMap:
            name: app-py
---

apiVersion: apps/v1
kind: Deployment
metadata:
  name: node7
spec:
  replicas: 1
  selector: { matchLabels: { app: node7 } }
  template:
    metadata: { labels: { app: node7 } }
    spec:
      containers:
        - name: node7
          image: verty002/blast-nodes:v5
          imagePullPolicy: IfNotPresent
          ports: [{ containerPort: 5000 }]
          env:
            - { name: SELF_NAME, value: "node7" }
            - { name: PORT, value: "5000" }
            - { name: PEERS, value: "10.102.87.147:5000,10.107.219.74:5000,10.105.254.216:5000" }
            - { name: DESTINOS, value: "" }
            - { name: ROUTES, value: "node1:10.102.87.147:5000,node2:10.102.87.147:5000,node3:10.102.87.147:5000,node4:10.102.87.147:5000,node5:10.105.254.216:5000,node10:10.105.254.216:5000" }
            - { name: NODE_MAP, value: "node1:10.104.224.255,node2:10.106.4.50,node3:10.99.0.127,node4:10.96.78.40,node5:10.97.227.22,node6:10.102.87.147,node7:10.111.212.197,node8:10.107.219.74,node9:10.105.254.216,node10:10.105.54.204" }
            - { name: CONNECT_TIMEOUT, value: "100" }
            - { name: CLIENT_INTERVAL, value: "5" }
            - { name: CLIENT_JITTER, value: "1.0" }
            - { name: BACKOFF_BASE, value: "1.0" }
            - { name: BACKOFF_MAX, value: "10.0" }
            - { name: RETRIES_DIRECT, value: "1" }
            - { name: RETRIES_ROUTE, value: "1" }
            - { name: RETRIES_BROAD, value: "0" }
            - { name: IDLE_SLEEP, value: "1.0" }
          readinessProbe:
            tcpSocket: { port: 5000 }
            initialDelaySeconds: 3
            periodSeconds: 5
          volumeMounts:
            - name: app-py
              mountPath: /app/app.py
              subPath: app.py
      volumes:
        - name: app-py
          configMap:
            name: app-py
---

apiVersion: apps/v1
kind: Deployment
metadata:
  name: node8
spec:
  replicas: 1
  selector: { matchLabels: { app: node8 } }
  template:
    metadata: { labels: { app: node8 } }
    spec:
      containers:
        - name: node8
          image: verty002/blast-nodes:v5
          imagePullPolicy: IfNotPresent
          ports: [{ containerPort: 5000 }]
          env:
            - { name: SELF_NAME, value: "node8" }
            - { name: PORT, value: "5000" }
            - { name: PEERS, value: "10.111.212.197:5000,10.102.87.147:5000" }
            - { name: DESTINOS, value: "" }
            - { name: ROUTES, value: "node1:10.102.87.147:5000,node2:10.102.87.147:5000,node3:10.102.87.147:5000,node4:10.102.87.147:5000,node5:10.102.87.147:5000,node9:10.111.212.197:5000,node10:10.111.212.197:5000" }
            - { name: NODE_MAP, value: "node1:10.104.224.255,node2:10.106.4.50,node3:10.99.0.127,node4:10.96.78.40,node5:10.97.227.22,node6:10.102.87.147,node7:10.111.212.197,node8:10.107.219.74,node9:10.105.254.216,node10:10.105.54.204" }
            - { name: CONNECT_TIMEOUT, value: "100" }
            - { name: CLIENT_INTERVAL, value: "5" }
            - { name: CLIENT_JITTER, value: "1.0" }
            - { name: BACKOFF_BASE, value: "1.0" }
            - { name: BACKOFF_MAX, value: "10.0" }
            - { name: RETRIES_DIRECT, value: "1" }
            - { name: RETRIES_ROUTE, value: "1" }
            - { name: RETRIES_BROAD, value: "0" }
            - { name: IDLE_SLEEP, value: "1.0" }
          readinessProbe:
            tcpSocket: { port: 5000 }
            initialDelaySeconds: 3
            periodSeconds: 5
          volumeMounts:
            - name: app-py
              mountPath: /app/app.py
              subPath: app.py
      volumes:
        - name: app-py
          configMap:
            name: app-py
---

apiVersion: apps/v1
kind: Deployment
metadata:
  name: node9
spec:
  replicas: 1
  selector: { matchLabels: { app: node9 } }
  template:
    metadata: { labels: { app: node9 } }
    spec:
      containers:
        - name: node9
          image: verty002/blast-nodes:v5
          imagePullPolicy: IfNotPresent
          ports: [{ containerPort: 5000 }]
          env:
            - { name: SELF_NAME, value: "node9" }
            - { name: PORT, value: "5000" }
            - { name: PEERS, value: "10.105.54.204:5000,10.97.227.22:5000,10.111.212.197:5000" }
            - { name: DESTINOS, value: "node4" }
            - { name: ROUTES, value: "node1:10.105.54.204:5000,node2:10.97.227.22:5000,node3:10.97.227.22:5000,node4:10.97.227.22:5000,node6:10.111.212.197:5000,node8:10.111.212.197:5000" }
            - { name: NODE_MAP, value: "node1:10.104.224.255,node2:10.106.4.50,node3:10.99.0.127,node4:10.96.78.40,node5:10.97.227.22,node6:10.102.87.147,node7:10.111.212.197,node8:10.107.219.74,node9:10.105.254.216,node10:10.105.54.204" }
            - { name: CONNECT_TIMEOUT, value: "100" }
            - { name: CLIENT_INTERVAL, value: "5" }
            - { name: CLIENT_JITTER, value: "1.0" }
            - { name: BACKOFF_BASE, value: "1.0" }
            - { name: BACKOFF_MAX, value: "10.0" }
            - { name: RETRIES_DIRECT, value: "1" }
            - { name: RETRIES_ROUTE, value: "1" }
            - { name: RETRIES_BROAD, value: "0" }
            - { name: IDLE_SLEEP, value: "1.0" }
          readinessProbe:
            tcpSocket: { port: 5000 }
            initialDelaySeconds: 3
            periodSeconds: 5
          volumeMounts:
            - name: app-py
              mountPath: /app/app.py
              subPath: app.py
      volumes:
        - name: app-py
          configMap:
            name: app-py
---

apiVersion: apps/v1
kind: Deployment
metadata:
  name: node10
spec:
  replicas: 1
  selector: { matchLabels: { app: node10 } }
  template:
    metadata: { labels: { app: node10 } }
    spec:
      containers:
        - name: node10
          image: verty002/blast-nodes:v5
          imagePullPolicy: IfNotPresent
          ports: [{ containerPort: 5000 }]
          env:
            - { name: SELF_NAME, value: "node10" }
            - { name: PORT, value: "5000" }
            - { name: PEERS, value: "10.106.4.50:5000,10.105.254.216:5000" }
            - { name: DESTINOS, value: "" }
            - { name: ROUTES, value: "node1:10.106.4.50:5000,node4:10.106.4.50:5000,node3:10.106.4.50:5000,node5:10.105.254.216:5000,node6:10.106.4.50:5000,node7:10.105.254.216:5000,node8:10.105.254.216:5000" }
            - { name: NODE_MAP, value: "node1:10.104.224.255,node2:10.106.4.50,node3:10.99.0.127,node4:10.96.78.40,node5:10.97.227.22,node6:10.102.87.147,node7:10.111.212.197,node8:10.107.219.74,node9:10.105.254.216,node10:10.105.54.204" }
            - { name: CONNECT_TIMEOUT, value: "100" }
            - { name: CLIENT_INTERVAL, value: "5" }
            - { name: CLIENT_JITTER, value: "1.0" }
            - { name: BACKOFF_BASE, value: "1.0" }
            - { name: BACKOFF_MAX, value: "10.0" }
            - { name: RETRIES_DIRECT, value: "1" }
            - { name: RETRIES_ROUTE, value: "1" }
            - { name: RETRIES_BROAD, value: "0" }
            - { name: IDLE_SLEEP, value: "1.0" }
          readinessProbe:
            tcpSocket: { port: 5000 }
            initialDelaySeconds: 3
            periodSeconds: 5
          volumeMounts:
            - name: app-py
              mountPath: /app/app.py
              subPath: app.py
      volumes:
        - name: app-py
          configMap:
            name: app-py
